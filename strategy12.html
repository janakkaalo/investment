<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sakuntala Sovereign Protocol: 4.5L Deployment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Choosing the 'Energetic & Playful' Vibrant Palette from the reference, adapted for Dark Mode Cyberpunk feel -->
    <!-- Palette: #0F172A (Deep Navy Bg), #38BDF8 (Cyan), #818CF8 (Indigo), #F472B6 (Pink), #34D399 (Emerald) -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600;800&display=swap');

        :root {
            --bg-dark: #0F172A;
            --card-dark: #1E293B;
            --accent-cyan: #38BDF8;
            --accent-pink: #F472B6;
            --accent-green: #34D399;
            --text-primary: #F8FAFC;
            --text-secondary: #94A3B8;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
        }

        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0F172A;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        /* Diagram Styles */
        .flow-node {
            background: #1E293B;
            border-left: 4px solid var(--accent-cyan);
            padding: 1rem;
            border-radius: 0.5rem;
            position: relative;
            transition: transform 0.2s;
        }

        .flow-node:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
        }

        .flow-arrow {
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-secondary);
            font-size: 1.5rem;
            padding: 0.5rem;
        }
    </style>
    <!-- NO SVG, NO MERMAID JS USED -->
</head>

<body class="antialiased selection:bg-cyan-500 selection:text-white">

    <!-- Header Section -->
    <header class="w-full py-12 px-6 border-b border-gray-800 bg-gradient-to-r from-slate-900 to-slate-800">
        <div class="max-w-7xl mx-auto">
            <div
                class="inline-block px-3 py-1 mb-4 text-xs font-mono font-bold tracking-wider text-cyan-400 uppercase bg-cyan-900/30 rounded-full border border-cyan-500/30">
                Sakuntala Sovereign Protocol v2.0
            </div>
            <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight text-white mb-4">
                <span
                    class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-indigo-400 to-pink-400">Hyper-Converged</span>
                Capital Deployment
            </h1>
            <p class="text-lg text-slate-400 max-w-2xl leading-relaxed">
                Strategic allocation of <span class="text-white font-bold">₹4,50,000</span> utilizing local compute
                superiority (9060 XT Node), tax-efficient algorithm structures, and global asset diversification.
            </p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-12 space-y-16">

        <!-- Executive Summary Grid -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="glass-panel p-6 rounded-2xl border-l-4 border-emerald-400">
                <h3 class="text-sm font-bold text-emerald-400 uppercase tracking-wider mb-2">Target Yield (CAGR)</h3>
                <div class="text-4xl font-extrabold text-white">42.5%</div>
                <p class="text-slate-400 text-sm mt-2">Aggressive Algo-Compounding</p>
            </div>
            <div class="glass-panel p-6 rounded-2xl border-l-4 border-cyan-400">
                <h3 class="text-sm font-bold text-cyan-400 uppercase tracking-wider mb-2">Tax Efficiency</h3>
                <div class="text-4xl font-extrabold text-white">Zero</div>
                <p class="text-slate-400 text-sm mt-2">Up to ₹7L Net Income (New Regime)</p>
            </div>
            <div class="glass-panel p-6 rounded-2xl border-l-4 border-pink-400">
                <h3 class="text-sm font-bold text-pink-400 uppercase tracking-wider mb-2">Compute Node</h3>
                <div class="text-4xl font-extrabold text-white">Local</div>
                <p class="text-slate-400 text-sm mt-2">5600X + GPU (Low Latency)</p>
            </div>
        </section>

        <!-- SECTION 1: CAPITAL ALLOCATION -->
        <section>
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-white mb-4">1. The Asset Triad Allocation</h2>
                <p class="text-slate-400 max-w-3xl">
                    Instead of a traditional balanced portfolio, we deploy an "Engine & Fuel" model. The Algorithm
                    (Engine) generates cash flow, which is then siphoned into long-term compounding assets (Fuel). The
                    breakdown prioritizes the Dhan F&O margin requirement.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <!-- Allocation Chart -->
                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="text-lg font-semibold text-white mb-6 border-b border-gray-700 pb-2">Corpus Split (₹4.5L)
                    </h3>
                    <div class="chart-container">
                        <canvas id="allocationChart"></canvas>
                    </div>
                    <div class="mt-4 grid grid-cols-2 gap-4 text-xs text-slate-400">
                        <div><span class="w-3 h-3 inline-block rounded-full bg-cyan-400 mr-2"></span>Algo Trading (67%)
                        </div>
                        <div><span class="w-3 h-3 inline-block rounded-full bg-indigo-400 mr-2"></span>US Tech (22%)
                        </div>
                        <div><span class="w-3 h-3 inline-block rounded-full bg-pink-400 mr-2"></span>Crypto/DePIN (11%)
                        </div>
                    </div>
                </div>

                <!-- Strategic Justification -->
                <div class="space-y-6">
                    <div class="flex items-start gap-4">
                        <div class="bg-cyan-900/50 p-3 rounded-lg text-cyan-400 font-bold font-mono">01</div>
                        <div>
                            <h4 class="text-xl font-bold text-cyan-400">The Alpha Engine (₹3.0L)</h4>
                            <p class="text-slate-300 text-sm mt-1">
                                <strong>Platform:</strong> Dhan API <br>
                                <strong>Asset:</strong> NIFTY/BANKNIFTY Options <br>
                                <strong>Strategy:</strong> Short Straddle/Strangle with Hedge (Iron Fly). <br>
                                <strong>Why:</strong> ₹3L covers margin for 2-3 lots with hedges. Generates the cash
                                flow.
                            </p>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <div class="bg-indigo-900/50 p-3 rounded-lg text-indigo-400 font-bold font-mono">02</div>
                        <div>
                            <h4 class="text-xl font-bold text-indigo-400">The Beta Anchor (₹1.0L)</h4>
                            <p class="text-slate-300 text-sm mt-1">
                                <strong>Platform:</strong> Appreciate / Groww <br>
                                <strong>Asset:</strong> US Tech ETFs (QQQ, SOXX) or AI Leaders (NVDA, MSFT). <br>
                                <strong>Why:</strong> Dollar appreciation + Structural AI boom. Stability against rupee
                                depreciation.
                            </p>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <div class="bg-pink-900/50 p-3 rounded-lg text-pink-400 font-bold font-mono">03</div>
                        <div>
                            <h4 class="text-xl font-bold text-pink-400">The Gamma Spike (₹0.5L)</h4>
                            <p class="text-slate-300 text-sm mt-1">
                                <strong>Platform:</strong> Binance / Metamask <br>
                                <strong>Asset:</strong> Bitcoin (BTC) & Solana (SOL). <br>
                                <strong>Why:</strong> High asymmetry. Potential 3-5x returns. "Forget it" money.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: 5-YEAR PROJECTION -->
        <section>
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-white mb-4">2. Financial Trajectory (2 vs 5 Years)</h2>
                <p class="text-slate-400 max-w-3xl">
                    Assuming a conservative monthly return of 3% from Algo trading (reinvested) and 15% annual growth in
                    static assets. This model assumes you aggressively reinvest profits back into the "Engine" until
                    Year 3.
                </p>
            </div>

            <div class="glass-panel p-6 rounded-2xl">
                <div class="chart-container" style="height: 400px; max-height: 450px;">
                    <canvas id="projectionChart"></canvas>
                </div>
            </div>
        </section>

        <!-- SECTION 3: THE DHAN API STRATEGY -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-12">

            <!-- Technical Setup -->
            <div>
                <h2 class="text-3xl font-bold text-white mb-6">3. The Dhan API Protocol</h2>
                <p class="text-slate-400 mb-6">
                    A "Business Income" optimized trading setup utilizing your 5600X CPU for fast data processing. This
                    setup avoids the "Rental/Fixed Income" trap and categorizes gains as active business revenue.
                </p>

                <!-- Workflow Diagram using HTML/CSS -->
                <div class="space-y-4 font-mono text-sm">
                    <div class="flow-node border-l-cyan-500">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-cyan-400 font-bold">NODE 1: DATA INGESTION</span>
                            <span class="text-xs bg-slate-700 px-2 py-1 rounded">09:15 AM</span>
                        </div>
                        <p class="text-slate-300">Python Script connects to Dhan HQ via WebSocket. Subscribes to Nifty
                            50 Spot & ATM Options.</p>
                    </div>

                    <div class="flow-arrow">↓</div>

                    <div class="flow-node border-l-pink-500">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-pink-400 font-bold">NODE 2: SIGNAL GENERATION</span>
                            <span class="text-xs bg-slate-700 px-2 py-1 rounded">09:30 AM</span>
                        </div>
                        <p class="text-slate-300">Wait for 15-min candle close. Check: Is VIX < 18? If YES -> Execute
                                "Iron Fly" (Short ATM Call/Put, Buy OTM wings).</p>
                    </div>

                    <div class="flow-arrow">↓</div>

                    <div class="flow-node border-l-emerald-500">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-emerald-400 font-bold">NODE 3: RISK MANAGER</span>
                            <span class="text-xs bg-slate-700 px-2 py-1 rounded">CONTINUOUS</span>
                        </div>
                        <p class="text-slate-300">Monitor MTM. If Combined Premium spikes > 25% of entry -> Stop Loss
                            Trigger. Else, hold for Theta decay.</p>
                    </div>

                    <div class="flow-arrow">↓</div>

                    <div class="flow-node border-l-indigo-500">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-indigo-400 font-bold">NODE 4: AUTO SQUARE-OFF</span>
                            <span class="text-xs bg-slate-700 px-2 py-1 rounded">03:10 PM</span>
                        </div>
                        <p class="text-slate-300">Close all positions. Log P&L to CSV/Notion. Shutdown AWS/Script.</p>
                    </div>
                </div>
            </div>

            <!-- Tax Optimization Strategy -->
            <div
                class="glass-panel p-8 rounded-2xl bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700">
                <h3 class="text-2xl font-bold text-white mb-6 flex items-center">
                    <span class="text-3xl mr-3">⚖️</span> Tax Optimization Hack
                </h3>

                <div class="space-y-6">
                    <div class="p-4 bg-slate-800 rounded-lg">
                        <h4 class="text-emerald-400 font-bold text-sm uppercase mb-2">The Golden Classification</h4>
                        <p class="text-slate-300 text-sm">
                            F&O Trading is considered <strong>Non-Speculative Business Income</strong>. It is NOT taxed
                            as Capital Gains. It is added to your salary slab.
                        </p>
                    </div>

                    <table class="w-full text-sm text-left">
                        <thead class="text-xs text-slate-500 uppercase bg-slate-800/50">
                            <tr>
                                <th class="px-4 py-3">Component</th>
                                <th class="px-4 py-3 text-right">Value (Year 1)</th>
                            </tr>
                        </thead>
                        <tbody class="text-slate-300">
                            <tr class="border-b border-slate-700">
                                <td class="px-4 py-3">Salary Income (Basic)</td>
                                <td class="px-4 py-3 text-right">₹3,50,000</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="px-4 py-3 font-semibold text-cyan-400">Algo Trading Profit (Est.)</td>
                                <td class="px-4 py-3 text-right text-cyan-400">+ ₹3,00,000</td>
                            </tr>
                            <tr class="border-b border-slate-700 bg-slate-800/30">
                                <td class="px-4 py-3">Gross Total Income</td>
                                <td class="px-4 py-3 text-right">₹6,50,000</td>
                            </tr>
                            <tr class="border-b border-slate-700 text-red-400 italic">
                                <td class="px-4 py-3">LESS: Business Expenses*</td>
                                <td class="px-4 py-3 text-right">- ₹1,00,000</td>
                            </tr>
                            <tr class="font-bold text-white bg-emerald-900/20">
                                <td class="px-4 py-3">Net Taxable Income</td>
                                <td class="px-4 py-3 text-right">₹5,50,000</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="text-xs text-slate-500 mt-2">
                        *Valid Business Expenses: Depreciation on Computer (40% of 1.5L = 60k), Internet Bills (12k),
                        Electricity Portion (20k), Books/Data Fees. <br>
                        <strong>Result:</strong> Income < ₹7L=<strong>ZERO TAX</strong> (New Regime Rebate).
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: GETTING STARTED CODE GUIDE -->
        <section>
            <div class="glass-panel p-6 rounded-2xl border border-gray-700">
                <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-2">
                    <h3 class="text-lg font-mono font-bold text-cyan-400">>> initialize_strategy.py</h3>
                    <span class="text-xs text-slate-500">Python 3.10 | DhanHQ</span>
                </div>
                <div class="font-mono text-sm text-slate-400 overflow-x-auto">
                    <pre>
<span class="text-pink-400">from</span> dhanhq <span class="text-pink-400">import</span> DhanHQ
<span class="text-pink-400">import</span> pandas <span class="text-pink-400">as</span> pd
<span class="text-pink-400">import</span> time

<span class="text-gray-500"># 1. Credentials (Store in .env file)</span>
client_id = <span class="text-emerald-300">"YOUR_CLIENT_ID"</span>
access_token = <span class="text-emerald-300">"YOUR_ACCESS_TOKEN"</span>
dhan = DhanHQ(client_id, access_token)

<span class="text-gray-500"># 2. Strategy Configuration</span>
CAPITAL = <span class="text-indigo-400">300000</span>  <span class="text-gray-500"># 3 Lakhs allocation</span>
STOP_LOSS_PCT = <span class="text-indigo-400">0.25</span>  <span class="text-gray-500"># 25% SL on premium</span>

<span class="text-pink-400">def</span> <span class="text-cyan-400">get_atm_strike</span>():
    <span class="text-gray-500"># Fetch Nifty Spot Price</span>
    quote = dhan.get_quote(<span class="text-emerald-300">'NSE'</span>, <span class="text-emerald-300">'NIFTY 50'</span>)
    spot = quote[<span class="text-emerald-300">'data'</span>][<span class="text-emerald-300">'last_price'</span>]
    <span class="text-pink-400">return</span> round(spot / <span class="text-indigo-400">50</span>) * <span class="text-indigo-400">50</span>

<span class="text-pink-400">def</span> <span class="text-cyan-400">execute_iron_fly</span>():
    strike = get_atm_strike()
    print(f<span class="text-emerald-300">"Executing Iron Fly at {strike}"</span>)
    
    <span class="text-gray-500"># SELL ATM CE & PE (Short Straddle)</span>
    dhan.place_order(security_id=str(strike), exchange_segment=<span class="text-emerald-300">'NSE_FNO'</span>, transaction_type=<span class="text-emerald-300">'SELL'</span>, quantity=<span class="text-indigo-400">100</span>, order_type=<span class="text-emerald-300">'MARKET'</span>, product_type=<span class="text-emerald-300">'INTRADAY'</span>, option_type=<span class="text-emerald-300">'CALL'</span>)
    dhan.place_order(security_id=str(strike), exchange_segment=<span class="text-emerald-300">'NSE_FNO'</span>, transaction_type=<span class="text-emerald-300">'SELL'</span>, quantity=<span class="text-indigo-400">100</span>, order_type=<span class="text-emerald-300">'MARKET'</span>, product_type=<span class="text-emerald-300">'INTRADAY'</span>, option_type=<span class="text-emerald-300">'PUT'</span>)
    
    <span class="text-gray-500"># BUY OTM Hedges (Wings) - 200 points away</span>
    <span class="text-gray-500"># ... (Code to buy CE Strike+200 and PE Strike-200) ...</span>

<span class="text-gray-500"># 3. Execution Loop</span>
<span class="text-pink-400">if</span> __name__ == <span class="text-emerald-300">"__main__"</span>:
    <span class="text-gray-500"># Run on your 5600x PC at 9:30 AM</span>
    execute_iron_fly()
</pre>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center py-8 text-slate-600 text-sm border-t border-slate-800">
        <p>Sakuntala Sovereign Protocol | Generated by Canvas Infographics</p>
    </footer>

    <!-- Chart Logic -->
    <script>
        // --- 1. Allocation Donut Chart ---
        const ctxAlloc = document.getElementById('allocationChart').getContext('2d');
        new Chart(ctxAlloc, {
            type: 'doughnut',
            data: {
                labels: ['Algo F&O (Dhan)', 'US Tech (Appreciate)', 'Crypto (Binance)'],
                datasets: [{
                    data: [300000, 100000, 50000],
                    backgroundColor: ['#38BDF8', '#818CF8', '#F472B6'],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            title: function (tooltipItems) {
                                let label = tooltipItems[0].chart.data.labels[tooltipItems[0].dataIndex];
                                return Array.isArray(label) ? label.join(' ') : label;
                            }
                        }
                    }
                }
            }
        });

        // --- 2. Projection Mixed Chart ---
        const ctxProj = document.getElementById('projectionChart').getContext('2d');
        new Chart(ctxProj, {
            type: 'bar',
            data: {
                labels: ['Start', 'Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5'],
                datasets: [
                    {
                        label: 'Total Portfolio Value (₹)',
                        data: [450000, 630000, 882000, 1234000, 1728000, 2419000], // Approx 40% CAGR
                        backgroundColor: '#34D399',
                        borderRadius: 6,
                        order: 2
                    },
                    {
                        label: 'Conservative Baseline (12%)',
                        data: [450000, 504000, 564000, 631000, 707000, 792000],
                        borderColor: '#94A3B8',
                        borderWidth: 2,
                        type: 'line',
                        tension: 0.4,
                        pointRadius: 0,
                        order: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#334155' },
                        ticks: { color: '#94A3B8', callback: (val) => '₹' + (val / 100000) + 'L' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#94A3B8' }
                    }
                },
                plugins: {
                    legend: { labels: { color: '#F8FAFC' } },
                    tooltip: {
                        callbacks: {
                            title: function (tooltipItems) {
                                let label = tooltipItems[0].chart.data.labels[tooltipItems[0].dataIndex];
                                return Array.isArray(label) ? label.join(' ') : label;
                            }
                        }
                    }
                }
            }
        });
    </script>

    <!-- Source Narrative Comment -->
    <!-- 
        Analysis of Source Material:
        The 'Sakuntala Sovereign Protocol' emphasizes a 'Venture-Operator' model over passive rent seeking. 
        It leverages specific assets: a 3rd floor room (Data Center), Garage, and a high-spec PC (Neural Nexus).
        The original plan was for 15L; scaled down here to 4.5L as per request.
        Key constraints: Maintain full-time job (requires automation), Use existing assets (PC/Room).
        
        Strategic Plan:
        1. Intro: Define the 'Hyper-Converged' nature of the setup.
        2. Allocation: Split 4.5L into Alpha (Algo), Beta (US Tech), Gamma (Crypto).
        3. Visuals: Used Donut for allocation, Bar/Line for projection.
        4. Technical: Provided Python snippets for Dhan API as requested.
        5. Tax: Leveraged the 'Business Income' classification for tax efficiency under new regime.
        
        Chart Choices:
        - Donut: Best for showing the 3-part asset split.
        - Bar/Line Combo: Best for comparing the aggressive algo growth vs standard market returns over 5 years.
        - Flow Diagram (HTML): Best for showing the Logic Loop of the algo without using Forbidden Mermaid JS.
        
        NO SVG USED. NO MERMAID JS USED.
    -->
</body>

</html>